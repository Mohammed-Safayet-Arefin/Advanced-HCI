{% extends 'base.html' %}

{% block header %}
  <!-- <link href="dashboard.css" rel="stylesheet"> -->
  <link href="{{ url_for('static', filename='css/create.css') }}" rel="stylesheet">
  <!-- <h1>{% block title %}Jobs{% endblock %}</h1> -->
  <!-- {% if g.user %}
    <a class="action" href="{{ url_for('dashboard.create') }}">New</a>
  {% endif %} -->
{% endblock %}

{% block content %}
  <h1>Job Creation</h1>
  <form method="post">
    <label for="job_title">Job Title</label>
    <input name="job_title" id="job_title" value="{{ request.form['job_title'] }}" required>
    
    <p>Time Range</p>
    <label for="job_time_beg">Start Time:</label>
    <input type="time" id="job_time_beg" name="job_time_beg" min="0:00" max = "24:00" >
    <label for="job_time_end">End Time:</label>
    <input type="time" id="job_time_end" name="job_time_end" min="0:00" max = "24:00" >
    
    <p>Date Range <br> <span style="color:red;">Note</span>: This will make a job for each day in the range.</p>
    <label for="job_date_beg">Beginning Date</label>
    <input type="date" id="job_date_beg" name="job_date_beg" />
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#calendarModal">
      <span class="glyphicon glyphicon-calendar"></span> Calendar
    </button>

    <div class="modal" tabindex="-1" role="dialog" id="calendarModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Calendar Select</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Beginning Date</p>
            <div id="demo" class="yui3-skin-sam yui3-g"> <!-- You need this skin class -->

              <div id="leftcolumn" class="yui3-u">
                 <!-- Container for the calendar -->
                 <div id="mycalendar"></div>
              </div>
              <div id="rightcolumn" class="yui3-u">
               <div id="links" style="padding-left:20px;">
                  Selected date: <span id="selecteddate"></span>
               </div>
              </div>
            </div>
            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Keep Selections</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    <label for="job_date_end">Ending Date</label>
    <input type="date" id="job_date_end" name="job_date_end" />

    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#calendarModal2">
      <span class="glyphicon glyphicon-calendar"></span> Calendar
    </button>

    <div class="modal" tabindex="-1" role="dialog" id="calendarModal2">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Calendar Select</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>End Date</p>
            <div id="demo" class="yui3-skin-sam yui3-g"> <!-- You need this skin class -->

              <div id="leftcolumn" class="yui3-u">
                 <!-- Container for the calendar -->
                 <div id="mycalendar2"></div>
              </div>
              <div id="rightcolumn" class="yui3-u">
               <div id="links" style="padding-left:20px;">
                  Selected date: <span id="selecteddate2"></span>
               </div>
              </div>
            </div>
            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Keep Selections</button>  <!--onclick="window.opener['dateitem'] = selecteddate"-->
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    <p>Select Affected Days Of The Week:</p>
    <label class="checkbox-inline"><input type="checkbox" value="">Sunday</label>
    <label class="checkbox-inline"><input type="checkbox" value="">Monday</label>
    <label class="checkbox-inline"><input type="checkbox" value="">Tuesday</label>
    <label class="checkbox-inline"><input type="checkbox" value="">Wednesday</label>
    <label class="checkbox-inline"><input type="checkbox" value="">Thursday</label>
    <label class="checkbox-inline"><input type="checkbox" value="">Friday</label>
    <label class="checkbox-inline"><input type="checkbox" value="">Saturday</label>

    <div class="form-group">
      <label for="job_desc">Job Description</label>
      <textarea class="form-control" id="job_desc" rows="3" placeholder="Enter a job description here...">{{ request.form['job_desc'] }}</textarea>
    </div>

    <div class="form-group">
      <label for="job_credentials">Credentials</label>
      <textarea class="form-control" id="job_credentials" rows="3" placeholder="Comma Seperated Values Only">{{ request.form['job_credentials'] }}</textarea>
    </div>

    <br>
    <label for="job_extra">Multiple Job Count</label>
    <input type=number name="job_extra" id="job_extra" min="0"/>
    
    <br>
    <input class="btn btn-success" type="submit" value="Save">
    <a class="btn btn-default" href="/" role="button">Cancel</a>
    <input class="btn btn-primary" type="button" value="Use Template" />
    <input class="btn btn-primary" type="button" value="Convert To Template" />
    <input class="btn btn-success" type="submit" value="Publish">
  </form>


  <!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> 
  <script src="{{ url_for('static', filename='js/jquery.js') }}"></script> 
  <script>
  $( function() {
    $( "#datepicker" ).datepicker();
  } );
  </script> -->
  <script src="http://cdn.alloyui.com/3.0.1/aui/aui-min.js"></script>
  <script type="text/javascript">
    YUI().use('calendar', 'datatype-date', 'cssbutton',  function(Y) {
    
        // Create a new instance of calendar, placing it in
        // #mycalendar container, setting its width to 340px,
        // the flags for showing previous and next month's
        // dates in available empty cells to true, and setting
        // the date to today's date.
        var calendar = new Y.Calendar({
          contentBox: "#mycalendar",
          width:'340px',
          showPrevMonth: true,
          showNextMonth: true,
          date: new Date()}).render();
    
        // Get a reference to Y.DataType.Date
        var dtdate = Y.DataType.Date;
    
        // Listen to calendar's selectionChange event.
        calendar.on("selectionChange", function (ev) {
    
          // Get the date from the list of selected
          // dates returned with the event (since only
          // single selection is enabled by default,
          // we expect there to be only one date)
          var newDate = ev.newSelection[0];
    
          // Format the date and output it to a DOM
          // element.
          Y.one("#selecteddate").setHTML(dtdate.format(newDate));
        });
    
    });
    </script>

    <script type="text/javascript">
    YUI().use('calendar', 'datatype-date', 'cssbutton',  function(Y) {
    
        // Create a new instance of calendar, placing it in
        // #mycalendar container, setting its width to 340px,
        // the flags for showing previous and next month's
        // dates in available empty cells to true, and setting
        // the date to today's date.
        var calendar2 = new Y.Calendar({
          contentBox: "#mycalendar2",
          width:'340px',
          showPrevMonth: true,
          showNextMonth: true,
          date: new Date()}).render();
    
        // Get a reference to Y.DataType.Date
        var dtdate = Y.DataType.Date;
    
        // Listen to calendar's selectionChange event.
        calendar2.on("selectionChange", function (ev) {
    
          // Get the date from the list of selected
          // dates returned with the event (since only
          // single selection is enabled by default,
          // we expect there to be only one date)
          var newDate = ev.newSelection[0];
    
          // Format the date and output it to a DOM
          // element.
          Y.one("#selecteddate2").setHTML(dtdate.format(newDate));
        });
    
    });
    </script>

{% endblock %}